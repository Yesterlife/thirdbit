---
title: "Wrestling With Mail in Python"
date: 2006-03-01 10:14:44
---
<p>I have a bunch of old mailboxes (created by <a href="http://www.washington.edu/pine/">pine</a>), and I'd like to extract the message bodies.  Problem is, some of the messages were sent as HTML, so the bodies are multipart MIME messages: the first part is in plain text (or close to), while the second is the marked-up HTML.</p>

<p>I thought that parsing each mailbox file with Python's <a href="http://www.python.org/doc/2.4.1/lib/module-email.html">email</a> module would be simple, but as is often the case:</p>

<ul>
<li>it's designed to handle industrial-strength problems, which means that there's a lot of things I don't need getting in the way of me finding the 5% I actually want; and</li>
<li>it assumes I know a lot more about the topic than I do.</li>
</ul>

<p>This posting isn't really a plea for help (although if you do have something lying around that will do what I want, I'd <a href="mailto:gvwilson@cs.utoronto.ca">appreciate a ping</a>).  What I'm really asking for is layered library design: when you're creating a package for general use, please remember the 80/20 rule, and make the 20% that will satisfy 80% of users very simple, and very easy to find.</p>
